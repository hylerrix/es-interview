# 软件工程

## 如何理解 CI/CD？

> https://www.redhat.com/zh/topics/devops/what-is-ci-cd
>
> ruanyifeng.com/blog/2015/09/continuous-integration.html

* CI/CD 是一种通过在应用开发阶段引入自动化来频繁向客户交付应用的方法。CI/CD 的核心概念是持续集成、持续交付和持续部署。作为一个面向开发和运营团队的解决方案，CI/CD 主要针对在集成新代码时所引发的问题（亦称：“集成地狱”）。

* 持续集成：频繁地将多个分支的代码集成到主干分支。集成前必须全部通过自动化测试。
  * 特点
    * 构建 > 单元测试。
    * 快速发现错误。每完成一点更新，就集成到主干，可以快速发现错误，定位错误也比较容易。
    * 防止分支大幅偏离主干。如果不是经常集成，主干又在不断更新，会导致以后集成的难度变大，甚至难以集成。
  * 现代应用开发的目标是让多位开发人员同时处理同一应用的不同功能。但是，如果企业安排在一天内将所有分支源代码合并在一起（称为“合并日”），最终可能造成工作繁琐、耗时，而且需要手动完成。这是因为当一位独立工作的开发人员对应用进行更改时，有可能会与其他开发人员同时进行的更改发生冲突。如果每个开发人员都自定义自己的本地集成开发环境（IDE），而不是让团队就一个基于云的 IDE 达成一致，那么就会让问题更加雪上加霜。
  * 持续集成（CI）可以帮助开发人员更加频繁地（有时甚至每天）将代码更改合并到共享分支或“主干”中。一旦开发人员对应用所做的更改被合并，系统就会通过自动构建应用并运行不同级别的自动化测试（通常是单元测试和集成测试）来验证这些更改，确保这些更改没有对应用造成破坏。这意味着测试内容涵盖了从类和函数到构成整个应用的不同模块。如果自动化测试发现新代码和现有代码之间存在冲突，CI 可以更加轻松地快速修复这些错误。
* 持续交付：频繁地将软件的新版本交付给质量团队或者用户，以供评审。
  * 构建 > 单元测试 > 测试环境部署 > 测试（不涉及生产环境的自动化部署，只能手动部署）。
  * 完成 CI 中构建及单元测试和集成测试的自动化流程后，持续交付可自动将已验证的代码发布到存储库。为了实现高效的持续交付流程，务必要确保 CI 已内置于开发管道。持续交付的目标是拥有一个可随时部署到生产环境的代码库。
  * 在持续交付中，每个阶段（从代码更改的合并，到生产就绪型构建版本的交付）都涉及测试自动化和代码发布自动化。在流程结束时，运维团队可以快速、轻松地将应用部署到生产环境中。
* 持续部署：代码通过评审以后，自动部署到生产环境。
  * 构建 > 单元测试 > 测试环境部署 > 测试 > 生产环境部署 > 生产环境测试（全流程自动化）。
  * 相比持续交付，多一步自动化部署生产环境。
  * 对于一个成熟的 CI/CD 管道来说，最后的阶段是持续部署。作为持续交付——自动将生产就绪型构建版本发布到代码存储库——的延伸，持续部署可以自动将应用发布到生产环境。由于在生产之前的管道阶段没有手动门控，因此持续部署在很大程度上都得依赖精心设计的测试自动化。
  * 实际上，持续部署意味着开发人员对应用的更改在编写后的几分钟内就能生效（假设它通过了自动化测试）。这更加便于持续接收和整合用户反馈。总而言之，所有这些 CI/CD 的关联步骤都有助于降低应用的部署风险，因此更便于以小件的方式（而非一次性）发布对应用的更改。不过，由于还需要编写自动化测试以适应 CI/CD 管道中的各种测试和发布阶段，因此前期投资还是会很大。

## 如何实现 CI/CD？

* [Jenkins](https://www.jenkins.io/)
* [Travis](https://travis-ci.com/)
* [Codeship](https://www.codeship.io/)
* [Strider](http://stridercd.com/)

## 如何理解单元测试/集成测试/端对端测试？

* 单元测试：针对函数或模块的测试
* 集成测试：针对整体产品的某个功能的测试，又称功能测试
* 端对端测试：从用户界面直达数据库的全链路测试



## Docker 是什么？